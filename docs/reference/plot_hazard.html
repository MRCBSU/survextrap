<!DOCTYPE html>
<!-- Generated by pkgdown: do not edit by hand --><html lang="en"><head><meta http-equiv="Content-Type" content="text/html; charset=UTF-8"><meta charset="utf-8"><meta http-equiv="X-UA-Compatible" content="IE=edge"><meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no"><title>Plot hazard curves from a survextrap model — plot_hazard • survextrap</title><!-- mathjax math --><script src="https://cdn.jsdelivr.net/npm/mathjax@3.2.2/es5/tex-mml-chtml.js" integrity="sha256-MASABpB4tYktI2Oitl4t+78w/lyA+D7b/s9GEP0JOGI=" crossorigin="anonymous"></script><script>
  window.MathJax = {
    chtml: {
      fontURL: "https://cdn.jsdelivr.net/npm/mathjax@3.2.2/es5/output/chtml/fonts/woff-v2"
    }
  };
</script><script src="../deps/jquery-3.6.0/jquery-3.6.0.min.js"></script><meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no"><link href="../deps/bootstrap-5.3.1/bootstrap.min.css" rel="stylesheet"><script src="../deps/bootstrap-5.3.1/bootstrap.bundle.min.js"></script><link href="../deps/font-awesome-6.5.2/css/all.min.css" rel="stylesheet"><link href="../deps/font-awesome-6.5.2/css/v4-shims.min.css" rel="stylesheet"><script src="../deps/headroom-0.11.0/headroom.min.js"></script><script src="../deps/headroom-0.11.0/jQuery.headroom.min.js"></script><script src="../deps/bootstrap-toc-1.0.1/bootstrap-toc.min.js"></script><script src="../deps/clipboard.js-2.0.11/clipboard.min.js"></script><script src="../deps/search-1.0.0/autocomplete.jquery.min.js"></script><script src="../deps/search-1.0.0/fuse.min.js"></script><script src="../deps/search-1.0.0/mark.min.js"></script><!-- pkgdown --><script src="../pkgdown.js"></script><meta property="og:title" content="Plot hazard curves from a survextrap model — plot_hazard"><meta name="description" content="Plot hazard curves from a survextrap model.  This
function is intended as a quick check of a fitted model, so it
deliberately has limited options for customisation.  The data
behind these plots can be extracted with hazard into
a tidy data frame to enable custom plots to be constructed with
ggplot2.  See the case study vignette for some examples."><meta property="og:description" content="Plot hazard curves from a survextrap model.  This
function is intended as a quick check of a fitted model, so it
deliberately has limited options for customisation.  The data
behind these plots can be extracted with hazard into
a tidy data frame to enable custom plots to be constructed with
ggplot2.  See the case study vignette for some examples."></head><body>
    <a href="#main" class="visually-hidden-focusable">Skip to contents</a>


    <nav class="navbar navbar-expand-lg fixed-top bg-light" data-bs-theme="light" aria-label="Site navigation"><div class="container">

    <a class="navbar-brand me-2" href="../index.html">survextrap</a>

    <small class="nav-text text-muted me-auto" data-bs-toggle="tooltip" data-bs-placement="bottom" title="">1.0</small>


    <button class="navbar-toggler" type="button" data-bs-toggle="collapse" data-bs-target="#navbar" aria-controls="navbar" aria-expanded="false" aria-label="Toggle navigation">
      <span class="navbar-toggler-icon"></span>
    </button>

    <div id="navbar" class="collapse navbar-collapse ms-3">
      <ul class="navbar-nav me-auto"><li class="active nav-item"><a class="nav-link" href="../reference/index.html">Reference</a></li>
<li class="nav-item dropdown">
  <button class="nav-link dropdown-toggle" type="button" id="dropdown-articles" data-bs-toggle="dropdown" aria-expanded="false" aria-haspopup="true">Articles</button>
  <ul class="dropdown-menu" aria-labelledby="dropdown-articles"><li><a class="dropdown-item" href="../articles/cetuximab.html">Case study of using survextrap: cetuximab for head and neck cancer</a></li>
    <li><a class="dropdown-item" href="../articles/examples.html">Examples of using survextrap</a></li>
    <li><a class="dropdown-item" href="../articles/methods.html">Details of methods behind survextrap</a></li>
    <li><a class="dropdown-item" href="../articles/priors.html">Priors in survextrap models</a></li>
    <li><a class="dropdown-item" href="../articles/sbc.html">Simulation-based calibration of survextrap</a></li>
  </ul></li>
<li class="nav-item"><a class="nav-link" href="../news/index.html">Changelog</a></li>
      </ul><ul class="navbar-nav"><li class="nav-item"><form class="form-inline" role="search">
 <input class="form-control" type="search" name="search-input" id="search-input" autocomplete="off" aria-label="Search site" placeholder="Search for" data-search-index="../search.json"></form></li>
<li class="nav-item"><a class="external-link nav-link" href="https://github.com/chjackson/survextrap/" aria-label="GitHub"><span class="fa fab fa-github fa-lg"></span></a></li>
      </ul></div>


  </div>
</nav><div class="container template-reference-topic">
<div class="row">
  <main id="main" class="col-md-9"><div class="page-header">

      <h1>Plot hazard curves from a survextrap model</h1>
      <small class="dont-index">Source: <a href="https://github.com/chjackson/survextrap/blob/HEAD/R/plot.R" class="external-link"><code>R/plot.R</code></a></small>
      <div class="d-none name"><code>plot_hazard.Rd</code></div>
    </div>

    <div class="ref-description section level2">
    <p>Plot hazard curves from a <code><a href="survextrap.html">survextrap</a></code> model.  This
function is intended as a quick check of a fitted model, so it
deliberately has limited options for customisation.  The data
behind these plots can be extracted with <code><a href="hazard.html">hazard</a></code> into
a tidy data frame to enable custom plots to be constructed with
<span class="pkg">ggplot2</span>.  See the <a href="https://chjackson.github.io/survextrap/articles/cetuximab.html">case study</a> vignette for some examples.</p>
    </div>

    <div class="section level2">
    <h2 id="ref-usage">Usage<a class="anchor" aria-label="anchor" href="#ref-usage"></a></h2>
    <div class="sourceCode"><pre class="sourceCode r"><code><span><span class="fu">plot_hazard</span><span class="op">(</span></span>
<span>  <span class="va">x</span>,</span>
<span>  newdata <span class="op">=</span> <span class="cn">NULL</span>,</span>
<span>  t <span class="op">=</span> <span class="cn">NULL</span>,</span>
<span>  tmax <span class="op">=</span> <span class="cn">NULL</span>,</span>
<span>  niter <span class="op">=</span> <span class="cn">NULL</span>,</span>
<span>  newdata0 <span class="op">=</span> <span class="cn">NULL</span>,</span>
<span>  wane_period <span class="op">=</span> <span class="cn">NULL</span>,</span>
<span>  wane_nt <span class="op">=</span> <span class="fl">10</span>,</span>
<span>  ci <span class="op">=</span> <span class="cn">NULL</span>,</span>
<span>  xlab <span class="op">=</span> <span class="st">"Time"</span>,</span>
<span>  ylab <span class="op">=</span> <span class="st">"Hazard"</span>,</span>
<span>  line_size <span class="op">=</span> <span class="fl">1.5</span>,</span>
<span>  ci_alpha <span class="op">=</span> <span class="fl">0.2</span>,</span>
<span>  show_knots <span class="op">=</span> <span class="cn">FALSE</span></span>
<span><span class="op">)</span></span></code></pre></div>
    </div>

    <div class="section level2">
    <h2 id="arguments">Arguments<a class="anchor" aria-label="anchor" href="#arguments"></a></h2>


<dl><dt id="arg-x">x<a class="anchor" aria-label="anchor" href="#arg-x"></a></dt>
<dd><p>A fitted model object as returned by <code><a href="survextrap.html">survextrap</a></code></p></dd>


<dt id="arg-newdata">newdata<a class="anchor" aria-label="anchor" href="#arg-newdata"></a></dt>
<dd><p>Data frame of covariate values to compute the output for.
If there are covariates in the model and this is not supplied,
the following default is used:</p>
<p>(a) if the only covariate is one factor variable, then the output is computed
for each level of this factor.</p>
<p>(b) if there are multiple covariates, or any numeric covariates, then the output
is computed at the mean of each numeric covariate in the original data, and at the
baseline level of each factor covariate.</p>
<p>Note: caution is required about how treatment groups (for example)
are stored in your data.  If these are coded as numeric (0/1),
then if <code>newdata</code> is not specified, only one output will be shown.
This relates to the average value of this numeric variable over
the data, which doesn't correspond to either of the treatment
groups.  To avoid this, a treatment group should be stored as a
factor.</p></dd>


<dt id="arg-t">t<a class="anchor" aria-label="anchor" href="#arg-t"></a></dt>
<dd><p>Vector of times at which to compute the estimates.</p></dd>


<dt id="arg-tmax">tmax<a class="anchor" aria-label="anchor" href="#arg-tmax"></a></dt>
<dd><p>Maximum time at which to compute the estimates.  If
<code>t</code> is supplied, then this is ignored.  If <code>t</code> is not
supplied, then <code>t</code> is set to a set of 100 equally spaced
time points from 0 to <code>tmax</code>.  If both <code>tmax</code> and <code>t</code>
are not supplied, then <code>tmax</code> is set to the maximum follow up time
in the data.</p></dd>


<dt id="arg-niter">niter<a class="anchor" aria-label="anchor" href="#arg-niter"></a></dt>
<dd><p>Number of MCMC iterations to use to compute credible
intervals.  Set to a low value to make this function quicker, at the cost of
some approximation error (which may not be important for plotting or model
development).</p></dd>


<dt id="arg-newdata-">newdata0<a class="anchor" aria-label="anchor" href="#arg-newdata-"></a></dt>
<dd><p>Data frame of covariate values defining the "untreated" group
for use in treatment waning models. See <code><a href="Survmspline_wane.html">Survmspline_wane</a></code>.</p></dd>


<dt id="arg-wane-period">wane_period<a class="anchor" aria-label="anchor" href="#arg-wane-period"></a></dt>
<dd><p>Vector of two numbers, defining the time period over which
the hazard is interpolated between the hazard of the "treated" group (taken from <code>newdata</code>)
and the hazard of the "untreated" group (taken from <code>newdata0</code>).  Optional - if
this is not supplied, then no waning is assumed.</p></dd>


<dt id="arg-wane-nt">wane_nt<a class="anchor" aria-label="anchor" href="#arg-wane-nt"></a></dt>
<dd><p>Number of intervals defining the piecewise constant approximation
to the hazard during the waning period.</p></dd>


<dt id="arg-ci">ci<a class="anchor" aria-label="anchor" href="#arg-ci"></a></dt>
<dd><p>If <code>TRUE</code> then credible intervals are drawn.  Defaults to
drawing the intervals if the plot shows the curve for only one covariate value.</p></dd>


<dt id="arg-xlab">xlab<a class="anchor" aria-label="anchor" href="#arg-xlab"></a></dt>
<dd><p>X-axis label</p></dd>


<dt id="arg-ylab">ylab<a class="anchor" aria-label="anchor" href="#arg-ylab"></a></dt>
<dd><p>Y-axis label</p></dd>


<dt id="arg-line-size">line_size<a class="anchor" aria-label="anchor" href="#arg-line-size"></a></dt>
<dd><p>Passed to <code><a href="https://ggplot2.tidyverse.org/reference/geom_path.html" class="external-link">geom_line</a></code></p></dd>


<dt id="arg-ci-alpha">ci_alpha<a class="anchor" aria-label="anchor" href="#arg-ci-alpha"></a></dt>
<dd><p>Transparency for the credible interval ribbons</p></dd>


<dt id="arg-show-knots">show_knots<a class="anchor" aria-label="anchor" href="#arg-show-knots"></a></dt>
<dd><p>Show the locations of the spline knots as vertical lines</p></dd>

</dl></div>
    <div class="section level2">
    <h2 id="value">Value<a class="anchor" aria-label="anchor" href="#value"></a></h2>
    <p>A <code>ggplot2</code> plot object.</p>
    </div>
    <div class="section level2">
    <h2 id="details">Details<a class="anchor" aria-label="anchor" href="#details"></a></h2>
    <p>If the model has a single factor covariate (excluding background
hazard strata), then curves are produced for each level of this
factor if <code>newdata</code> requests this (or is left to its default).
Otherwise, only a single curve is produced, illustrating the
corresponding output from <code><a href="hazard.html">hazard</a></code>.</p>
    </div>

  </main><aside class="col-md-3"><nav id="toc" aria-label="Table of contents"><h2>On this page</h2>
    </nav></aside></div>


    <footer><div class="pkgdown-footer-left">
  <p>Developed by Christopher Jackson.</p>
</div>

<div class="pkgdown-footer-right">
  <p>Site built with <a href="https://pkgdown.r-lib.org/" class="external-link">pkgdown</a> 2.1.2.</p>
</div>

    </footer></div>





  </body></html>

