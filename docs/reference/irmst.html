<!DOCTYPE html>
<!-- Generated by pkgdown: do not edit by hand --><html lang="en"><head><meta http-equiv="Content-Type" content="text/html; charset=UTF-8"><meta charset="utf-8"><meta http-equiv="X-UA-Compatible" content="IE=edge"><meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no"><title>Incremental restricted mean survival time — irmst • survextrap</title><script src="../deps/jquery-3.6.0/jquery-3.6.0.min.js"></script><meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no"><link href="../deps/bootstrap-5.3.1/bootstrap.min.css" rel="stylesheet"><script src="../deps/bootstrap-5.3.1/bootstrap.bundle.min.js"></script><link href="../deps/font-awesome-6.5.2/css/all.min.css" rel="stylesheet"><link href="../deps/font-awesome-6.5.2/css/v4-shims.min.css" rel="stylesheet"><script src="../deps/headroom-0.11.0/headroom.min.js"></script><script src="../deps/headroom-0.11.0/jQuery.headroom.min.js"></script><script src="../deps/bootstrap-toc-1.0.1/bootstrap-toc.min.js"></script><script src="../deps/clipboard.js-2.0.11/clipboard.min.js"></script><script src="../deps/search-1.0.0/autocomplete.jquery.min.js"></script><script src="../deps/search-1.0.0/fuse.min.js"></script><script src="../deps/search-1.0.0/mark.min.js"></script><!-- pkgdown --><script src="../pkgdown.js"></script><meta property="og:title" content="Incremental restricted mean survival time — irmst"><meta name="description" content="Compute the difference in the restricted mean survival times
between two covariate values (e.g. treatment groups)."><meta property="og:description" content="Compute the difference in the restricted mean survival times
between two covariate values (e.g. treatment groups)."></head><body>
    <a href="#main" class="visually-hidden-focusable">Skip to contents</a>


    <nav class="navbar navbar-expand-lg fixed-top bg-light" data-bs-theme="light" aria-label="Site navigation"><div class="container">

    <a class="navbar-brand me-2" href="../index.html">survextrap</a>

    <small class="nav-text text-muted me-auto" data-bs-toggle="tooltip" data-bs-placement="bottom" title="">0.8.16</small>


    <button class="navbar-toggler" type="button" data-bs-toggle="collapse" data-bs-target="#navbar" aria-controls="navbar" aria-expanded="false" aria-label="Toggle navigation">
      <span class="navbar-toggler-icon"></span>
    </button>

    <div id="navbar" class="collapse navbar-collapse ms-3">
      <ul class="navbar-nav me-auto"><li class="active nav-item"><a class="nav-link" href="../reference/index.html">Reference</a></li>
<li class="nav-item dropdown">
  <button class="nav-link dropdown-toggle" type="button" id="dropdown-articles" data-bs-toggle="dropdown" aria-expanded="false" aria-haspopup="true">Articles</button>
  <ul class="dropdown-menu" aria-labelledby="dropdown-articles"><li><a class="dropdown-item" href="../articles/cetuximab.html">Case study of using survextrap: cetuximab for head and neck cancer</a></li>
    <li><a class="dropdown-item" href="../articles/examples.html">Examples of using survextrap</a></li>
    <li><a class="dropdown-item" href="../articles/methods.html">Details of methods behind survextrap</a></li>
    <li><a class="dropdown-item" href="../articles/priors.html">Priors in survextrap models</a></li>
    <li><a class="dropdown-item" href="../articles/sbc.html">Simulation-based calibration of survextrap</a></li>
  </ul></li>
<li class="nav-item"><a class="nav-link" href="../news/index.html">Changelog</a></li>
      </ul><ul class="navbar-nav"><li class="nav-item"><form class="form-inline" role="search">
 <input class="form-control" type="search" name="search-input" id="search-input" autocomplete="off" aria-label="Search site" placeholder="Search for" data-search-index="../search.json"></form></li>
<li class="nav-item"><a class="external-link nav-link" href="https://github.com/chjackson/survextrap/" aria-label="GitHub"><span class="fa fab fa-github fa-lg"></span></a></li>
      </ul></div>


  </div>
</nav><div class="container template-reference-topic">
<div class="row">
  <main id="main" class="col-md-9"><div class="page-header">

      <h1>Incremental restricted mean survival time</h1>
      <small class="dont-index">Source: <a href="https://github.com/chjackson/survextrap/blob/HEAD/R/outputs.R" class="external-link"><code>R/outputs.R</code></a></small>
      <div class="d-none name"><code>irmst.Rd</code></div>
    </div>

    <div class="ref-description section level2">
    <p>Compute the difference in the restricted mean survival times
between two covariate values (e.g. treatment groups).</p>
    </div>

    <div class="section level2">
    <h2 id="ref-usage">Usage<a class="anchor" aria-label="anchor" href="#ref-usage"></a></h2>
    <div class="sourceCode"><pre class="sourceCode r"><code><span><span class="fu">irmst</span><span class="op">(</span></span>
<span>  <span class="va">x</span>,</span>
<span>  <span class="va">t</span>,</span>
<span>  newdata <span class="op">=</span> <span class="cn">NULL</span>,</span>
<span>  newdata0 <span class="op">=</span> <span class="cn">NULL</span>,</span>
<span>  wane_period <span class="op">=</span> <span class="cn">NULL</span>,</span>
<span>  wane_nt <span class="op">=</span> <span class="fl">10</span>,</span>
<span>  niter <span class="op">=</span> <span class="cn">NULL</span>,</span>
<span>  summ_fns <span class="op">=</span> <span class="cn">NULL</span>,</span>
<span>  sample <span class="op">=</span> <span class="cn">FALSE</span>,</span>
<span>  disc_rate <span class="op">=</span> <span class="fl">0</span>,</span>
<span>  method <span class="op">=</span> <span class="st">"gl"</span>,</span>
<span>  gl_nodes <span class="op">=</span> <span class="fl">100</span></span>
<span><span class="op">)</span></span></code></pre></div>
    </div>

    <div class="section level2">
    <h2 id="arguments">Arguments<a class="anchor" aria-label="anchor" href="#arguments"></a></h2>


<dl><dt id="arg-x">x<a class="anchor" aria-label="anchor" href="#arg-x"></a></dt>
<dd><p>A fitted model object as returned by <code><a href="survextrap.html">survextrap</a></code></p></dd>


<dt id="arg-t">t<a class="anchor" aria-label="anchor" href="#arg-t"></a></dt>
<dd><p>Vector of times.  The restricted mean survival time up to each one of these times
will be computed.</p></dd>


<dt id="arg-newdata">newdata<a class="anchor" aria-label="anchor" href="#arg-newdata"></a></dt>
<dd><p>A data frame with two rows.  The result will be the
restricted mean for the covariates in the second row, minus the
restricted mean for the covariates in the first row.  If <code>newdata</code> is
omitted for models where the only covariate is a factor with two
levels, then this is taken from these levels.  Otherwise <code>newdata</code>
must be supplied explicitly.</p></dd>


<dt id="arg-newdata-">newdata0<a class="anchor" aria-label="anchor" href="#arg-newdata-"></a></dt>
<dd><p>Data frame of covariate values defining the "untreated" group
for use in treatment waning models. See <code><a href="Survmspline_wane.html">Survmspline_wane</a></code>.</p></dd>


<dt id="arg-wane-period">wane_period<a class="anchor" aria-label="anchor" href="#arg-wane-period"></a></dt>
<dd><p>Vector of two numbers, defining the time period over which
the hazard is interpolated between the hazard of the "treated" group (taken from <code>newdata</code>)
and the hazard of the "untreated" group (taken from <code>newdata0</code>).  Optional - if
this is not supplied, then no waning is assumed.</p></dd>


<dt id="arg-wane-nt">wane_nt<a class="anchor" aria-label="anchor" href="#arg-wane-nt"></a></dt>
<dd><p>Number of intervals defining the piecewise constant approximation
to the hazard during the waning period.</p></dd>


<dt id="arg-niter">niter<a class="anchor" aria-label="anchor" href="#arg-niter"></a></dt>
<dd><p>Number of MCMC iterations to use to compute credible
intervals.  Set to a low value to make this function quicker, at the cost of
some approximation error (which may not be important for plotting or model
development).</p></dd>


<dt id="arg-summ-fns">summ_fns<a class="anchor" aria-label="anchor" href="#arg-summ-fns"></a></dt>
<dd><p>A list of functions to use to summarise the posterior sample.
This is passed to <code><a href="https://mc-stan.org/posterior/reference/draws_summary.html" class="external-link">posterior::summarise_draws</a></code>.
By default this is <code>list(median=median, ~quantile(.x, probs=c(0.025, 0.975)))</code>.
If the list is named, then the names will be used for the columns of the
output.</p></dd>


<dt id="arg-sample">sample<a class="anchor" aria-label="anchor" href="#arg-sample"></a></dt>
<dd><p>If <code>TRUE</code> then an MCMC sample is returned from the posterior
of the output, rather than summary statistics.</p></dd>


<dt id="arg-disc-rate">disc_rate<a class="anchor" aria-label="anchor" href="#arg-disc-rate"></a></dt>
<dd><p>Discounting rate used to calculate the discounted mean
or restricted mean survival time, using an exponential discounting function.</p></dd>


<dt id="arg-method">method<a class="anchor" aria-label="anchor" href="#arg-method"></a></dt>
<dd><p>Method of numerical integration to obtain the
restricted mean survival time from the survival function.</p>
<p>The default is <code>method="gl"</code>, a Gauss-Legendre method with 100
nodes between zero and the maximum of <code>t</code>.</p>
<p><code>method="adaptive"</code> uses the base R <code>integrate</code> function, which is
much slower, but potentially more robust for badly-behaved
survival functions.</p></dd>


<dt id="arg-gl-nodes">gl_nodes<a class="anchor" aria-label="anchor" href="#arg-gl-nodes"></a></dt>
<dd><p>Number of nodes for the Gauss-Legendre method.</p></dd>

</dl></div>
    <div class="section level2">
    <h2 id="value">Value<a class="anchor" aria-label="anchor" href="#value"></a></h2>
    <p>A data frame (tibble) with each row containing posterior summary statistics
for a particular time and covariate value.</p>
<p>Or if <code>sample=TRUE</code>, an array with dimensions
<code>length(t)</code>, <code>niter</code>, <code>nrow(newdata)</code>, giving the
incremental RMST evaluated at different times, MCMC iterations and covariate
values respectively.</p>
    </div>
    <div class="section level2">
    <h2 id="details">Details<a class="anchor" aria-label="anchor" href="#details"></a></h2>
    <p>The posterior distribution is obtained by calling
<code><a href="rmst.html">rmst</a></code> for each group, obtaining each posterior sample
from the <code>"sample"</code> attribute, and taking the difference to
get a posterior sample for the difference.</p>
    </div>

  </main><aside class="col-md-3"><nav id="toc" aria-label="Table of contents"><h2>On this page</h2>
    </nav></aside></div>


    <footer><div class="pkgdown-footer-left">
  <p>Developed by Christopher Jackson.</p>
</div>

<div class="pkgdown-footer-right">
  <p>Site built with <a href="https://pkgdown.r-lib.org/" class="external-link">pkgdown</a> 2.1.1.</p>
</div>

    </footer></div>





  </body></html>

